import { Link } from "react-router-dom";

// Predefined downloads collection
export const downloads = {
    RC2KEdit_v5: {
        name: "RC2KEdit Fifth Release",
        downloadLink: "https://mega.nz/file/UlAiWKDa#PLThVqBPFf_gzXL-WvfcYIUNkMQPaoiVKcUNUsUsA10",
        thumbnail: "https://cdn.discordapp.com/attachments/638834861796229120/662680465072717824/unknown.png",
        description: "Fully functional track editor for RC2K allowing terraforming, texture swapping, lighting modifications and so much more!",
        uploadDate: "01/03/2020",
        modifiedDate: "01/03/2020",
        category: "Tools & Utilies",
        author: "Dummiesman",
        downloadCount: "999K+",
        rating: 86
    },
    TarmacPack_v001: {
        name: "Tarmac Pack v0.0.1",
        downloadLink: "https://drive.google.com/open?id=1nsaD8tzDXlsNzsKVyAQzQuJNATZ2zGaI",
        thumbnail: "https://cdn.discordapp.com/attachments/638834861796229120/687669721968934955/unknown.png",
        description: "This pack includes all stages with over 1% gravel coverage turned into 99%+ tarmac tracks (excluding Clocaenog Mid and the snowy stages, as they are extremely difficult to work with due to the plethora of different surfaces, etc.; the latter will probably have to be reworked into a different environment as well). There is obviously still a ton of things to be fixed, mainly texture correcting, but in many cases also texture replacement remains to be done for pretty much everything aside from the roads.",
        uploadDate: "03/12/2020",
        modifiedDate: "03/12/2020",
        category: "Tracks",
        author: "Ephemeral",
        downloadCount: "0",
        rating: 71
    },
    EvoVMitsubaru_v11: {
        name: "Evo V Mitsubaru v1.1",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/996507021237039165/Evo_V_Mitsubaru_v1.1.zip",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/996507021526454383/unknown.png",
        description: "Bootleg 555 Impreza livery for Lancer Evo V (not original that's why it's a bootleg bruh) , gives +5 handling points and +10 to luck when using it when speedrunning",
        uploadDate: "06/28/2022",
        modifiedDate: "07/12/2022",
        category: "Skins",
        author: "Certare",
        downloadCount: "69K",
        rating: 98
    },
    NightmareMode: {
        name: "Rally Championship Nightmare Mode",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/676734706305466387/levels_NightMode.rar",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/676735553743355914/Captura_de_Tela_561.png",
        description: "All the stages has dense fog on a rainy night! Some stages are harder than others.",
        uploadDate: "02/11/2020",
        modifiedDate: "02/11/2020",
        category: "Tracks",
        author: ["Redchili385", "Dummiesman"],
        downloadCount: "666",
        rating: 66
    },
    ReversedMode_v010: {
        name: "Rally reversed mode v0.1.0",
        downloadLink: "https://drive.google.com/file/d/1HR38grecs6Ciqf39y6Iu8_l6QC-MpLZR/view?usp=sharing",
        thumbnail: "",
        description: "This is a mod that reverses the order of all stages and arcades, giving a new perspective of the game and an option for training.",
        uploadDate: "08/30/2022",
        modifiedDate: "08/30/2022",
        category: "Tracks",
        author: "Redchili385",
        downloadCount: "123",
        rating: 100
    },
    RallyRebalancedAlpha_0031: {
        name: "Rally Rebalanced Alpha 0.0.3.1",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/1012407548298657942/Rally_Rebalanced_Alpha_0.0.3.1.zip",
        thumbnail: "",
        description: "No changes except that it's Patch 6 with no-cd applied so no more worries about havin to use an iso",
        uploadDate: "08/21/2022",
        modifiedDate: "08/25/2022",
        category: "Physics mods",
        author: "Certare",
        downloadCount: "1",
        rating: 86
    },
    TeamGoodSmileRacing: {
        name: "Team GoodSmile Racing livery",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/1008847532421566504/Team_GoodSmile_Racing.zip",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/1008850504316633128/new_livery.png",
        description: "Team GoodSmile Racing livery for 1999 Subaru Impreza WRX STi created for the needs of MFMI22.",
        uploadDate: "08/15/2022",
        modifiedDate: "08/15/2022",
        category: "Skins",
        author: "Tribell",
        downloadCount: "311",
        rating: 99
    },
    WiraFalkenEz: {
        name: "Proton Wira Falken livery",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/922090168922550272/Wira_Falken_ez.zip",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/922090168406671390/unknown.png?width=152&height=683",
        description: "Here's one extremely easy Proton Wira livery\nModified things :\nAdded redline in the interior\nSwapped steering wheel logo to mitsubishi cause technically it's a Lancer Evo I-III\nYes Mitsubishi logo swaps\nJust few less decals and limited stuff\nIf ya wonder why there's a hole in falken on da hood then it's just a vent and decided to keep it proper\nInstallation guide :\nUnzip da file\nMake backup of original livery (TX1080-TX1087 in rc/files/b and also same files in rc/files/b/gravel)\nCopy proper files and paste them to rc/files/b and then rc/files/b/gravel\nWhy tho no gravel livery? Well the only differences bettween this and gravel thing is just different wheels so why just don't use da normal asphalt wheels everywhere if they look the same almost",
        uploadDate: "12/19/2021",
        modifiedDate: "12/19/2021",
        category: "Skins",
        author: "Certare",
        downloadCount: "21",
        rating: 37
    },
    CorollaBrundle: {
        name: "V-Rally 2 Corolla WRC livery",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/874652250151206932/Corolla_-_Brundle.7z",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/874655067532328980/porownanie.png?width=1440&height=243",
        description: "Its time for my another mediocre texture mod! This time I recreated the infamous V-rally 2 Corolla WRC driven by former Formula One driver Martin Brundle during 1999 Rally of Great Britain",
        uploadDate: "08/10/2021",
        modifiedDate: "08/10/2021",
        category: "Skins",
        author: "ChudyPiszczel (Krusantusz)",
        downloadCount: "123456789",
        rating: 39
    },
    LangtonStuntCourse: {
        name: "Langton Stunt Course",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/660748215552835584/LangtonStunt.zip",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/660748154315997224/unknown.png?width=972&height=683",
        description: "Langton Stunt Course\nBecause why not?\n\nExtract to rc\\srclvls to install",
        uploadDate: "12/29/2019",
        modifiedDate: "12/29/2019",
        category: "Tracks",
        author: "Dummiesman",
        downloadCount: "555K",
        rating: 87
    },
    GlentroolFixedLighting: {
        name: "Glentrool - fixed lighting",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/665242813796974612/Glentrool_-_fixed_lighting.zip",
        thumbnail: "https://media.discordapp.net/attachments/638834861796229120/665242832977657866/unknown.png?width=854&height=683",
        description: "",
        uploadDate: "01/10/2020",
        modifiedDate: "01/10/2020",
        category: "Tracks",
        author: "Ephemeral",
        downloadCount: "2",
        rating: 13
    },
    Volvo850RWagon_v01: {
        name: "Volvo 850R Wagon #15 Rickard Rydell v0.1",
        downloadLink: "https://cdn.discordapp.com/attachments/638834861796229120/739398939274379334/Welsh_Sheep_Wagon_A7_v0.1_by_Gargamelowny.zip",
        thumbnail: "",
        description: "",
        uploadDate: "08/02/2020",
        modifiedDate: "08/02/2020",
        category: "Skins",
        author: "Gargamelowny",
        downloadCount: "42K",
        rating: 0
    }
}

// Auxiliary functions for formatting purposes
export const orderDownloads = (downloadsArray, option, direction) => {
    const descending = direction !== "ascending";                                   // Defaults to descending if not explicitly ascending
    const optionIsDate = option.slice(-4).toLowerCase() === "date" ? true : false;  // Should check the format inside the sorting function instead, but this should do the trick for now
    const [aThenB, bThenA] = descending ? [1, -1] : [-1, 1];                        // .sort() normally returns 1 for a>b and -1 for b>a --- reverse this if opposite order is chosen
    return downloadsArray.concat().sort(function(downloadA, downloadB) {            // .concat() makes a copy of the array instead of mutating
        let [optionA, optionB] = [downloadA[option], downloadB[option]];
        if(optionIsDate) {                                                          
            [optionA, optionB] = [new Date(optionA), new Date(optionB)];
        }
        return (optionA > optionB) ? aThenB : (optionA < optionB) ? bThenA : 0;
    });
}

const addLinkToAuthors = (authors) => {
    return  <Link to = {"/user/" + authors}>
                {authors}
            </Link>; 
}
export const getAuthors = (authors) => {
    return Array.isArray(authors) ? authors.map((author, index) =>  // Map elements if isArray...
        <span key = {index}>
            {addLinkToAuthors(author)}
            {index ? "" : ", "}
        </span>
    ) : addLinkToAuthors(authors);                                  // ...else return itself (String)
}